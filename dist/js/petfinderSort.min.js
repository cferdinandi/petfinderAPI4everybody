/** petfinderAPI4everybody v0.4.0, by Chris Ferdinandi | http://github.com/cferdinandi/petfinderAPI4everybody | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define("petfinderSort",e(t)):"object"==typeof exports?module.exports=e(t):t.petfinderSort=e(t)}(this,function(t){"use strict";var e,n,r,i,o,c,u,s={},d=!!document.querySelector&&!!t.addEventListener,l="petfinderSortStates",f={},a={initClass:"js-petfinder-sort",callbackBefore:function(){},callbackAfter:function(){}},p=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(n,t[r],r,t);else for(var i=0,o=t.length;o>i;i++)e.call(n,t[i],i,t)},g=function(t,e){var n={};return p(t,function(e,r){n[r]=t[r]}),p(e,function(t,r){n[r]=e[r]}),n},v=function(t,e){for(var n=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===n){if(t.classList.contains(e.substr(1)))return t}else if("#"===n){if(t.id===e.substr(1))return t}else if("["===n&&t.hasAttribute(e.substr(1,e.length-2)))return t;return!1},y=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target");if(e.checked===!1)return f[n]="unchecked",sessionStorage.setItem(l,JSON.stringify(f)),void 0;delete f[n],sessionStorage.setItem(l,JSON.stringify(f))}},m=function(e){if(t.sessionStorage){var n=e.getAttribute("data-petfinder-sort-target"),r=JSON.parse(sessionStorage.getItem(l));r&&r[n]&&"unchecked"===r[n]&&(e.checked=!1)}},b=function(){p(i,function(t){m(t)}),p(o,function(t){m(t)}),p(c,function(t){m(t)})},S=function(t,e){return e?(t.style.display="none",t.style.visibility="hidden",void 0):(t.style.display="block",t.style.visibility="visible",void 0)},h=function(t){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));return t.checked===!0?(p(e,function(t){t.checked=!0,y(t)}),void 0):(p(e,function(t){t.checked=!1,y(t)}),void 0)},k=function(){p(r,function(t){return u?(S(t,!0),void 0):(S(t),void 0)}),p(i,function(t){if(t.checked===!0){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));p(e,function(t){S(t)})}}),p(o,function(t){if(t.checked===!1){var e=document.querySelectorAll(t.getAttribute("data-petfinder-sort-target"));p(e,function(t){S(t,!0)})}})},A=function(){p(r,function(t){S(t)}),p(i,function(t){t.checked=!0}),p(o,function(t){t.checked=!0}),p(c,function(t){t.checked=!0})},q=function(t){var e=t.target,n=v(e,"[data-petfinder-sort]");n&&(y(n),"toggle"===n.getAttribute("data-petfinder-sort")&&h(n),k())};return s.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),A(),document.removeEventListener("click",q,!1),f={},e=null,n=null,r=null,i=null,o=null,c=null,u=null)},s.init=function(t){d&&(s.destroy(),e=g(a,t||{}),r=document.querySelectorAll(".pf-pet"),i=document.querySelectorAll('[data-petfinder-sort="breeds"]'),o=document.querySelectorAll('[data-petfinder-sort="attributes"]'),c=document.querySelectorAll('[data-petfinder-sort="toggle"]'),u=0===i.length?!1:!0,document.documentElement.classList.add(e.initClass),b(),k(),document.addEventListener("click",q,!1))},s});